---
import type { CollectionEntry } from 'astro:content';
import type { Lang } from '../consts';
import { t } from '../i18n/utils';

interface Props {
	lang: Lang;
	prevPost?: CollectionEntry<'blog'> | null;
	nextPost?: CollectionEntry<'blog'> | null;
}

const { lang, prevPost, nextPost } = Astro.props;
---

{(prevPost || nextPost) && (
	<nav class="post-nav" aria-label="Post navigation">
		<div class="nav-prev">
			{prevPost && (
				<a href={`/${lang}/blog/${prevPost.id}/`}>
					<span class="nav-label">← {t(lang, 'blog.prevPost')}</span>
					<span class="nav-title">{prevPost.data.title}</span>
				</a>
			)}
		</div>
		<div class="nav-next">
			{nextPost && (
				<a href={`/${lang}/blog/${nextPost.id}/`}>
					<span class="nav-label">{t(lang, 'blog.nextPost')} →</span>
					<span class="nav-title">{nextPost.data.title}</span>
				</a>
			)}
		</div>
	</nav>
)}

<style>
	.post-nav {
		display: flex;
		justify-content: space-between;
		gap: 1em;
		margin-top: 3em;
		padding-top: 2em;
		border-top: 1px solid var(--border);
	}
	.nav-prev, .nav-next {
		flex: 1;
	}
	.nav-next {
		text-align: right;
	}
	.post-nav a {
		display: block;
		text-decoration: none;
		padding: 1em;
		border: 1px solid var(--border);
		border-radius: 8px;
		transition: all 0.2s;
	}
	.post-nav a:hover {
		background-color: var(--bg-hover);
		border-color: var(--accent);
	}
	.nav-label {
		display: block;
		font-size: 0.8em;
		color: var(--text-muted);
		margin-bottom: 0.3em;
	}
	.nav-title {
		display: block;
		color: var(--text);
		font-weight: 600;
		line-height: 1.3;
	}
	@media (max-width: 720px) {
		.post-nav {
			flex-direction: column;
		}
	}
</style>
